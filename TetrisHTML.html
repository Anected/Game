<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
</head>
<body>
<canvas width="500" height="500"></canvas>
<script>
    var canvas = document.querySelector("canvas");
    var context = canvas.getContext("2d");
    let x = 10;
    let y = 10;
    let width = 10;
    let height = 40;

    const draw = () => {
        context.fillStyle = "red";
        context.fillRect(0, 0, 500, 500);
        context.fillStyle = "green";
        context.fillRect(x, y, width, height);
        }
    addEventListener("keydown", function (event) {
        console.log(event.keyCode);
        if (event.keyCode === 40 ) {
            y++
        }
        if (event.keyCode === 38) {
            y--
        }
        if (event.keyCode === 39) {
            x++
        }
        if (event.keyCode === 37) {
            x--
        }
        if (event.keyCode === 82) {
            doRotate()(x,y);

        }
        draw();
    });
    draw();
  const doRotate = () => {
      const rotate = (x,y) => {
          context.save();
          context.translate(x+(width/2),y +(height/2))
          context.fillRect(x,y,width, height);
          context.translate(-x+(width/2),-y +(height/2));
          context.restore();

      }
    }
</script>

</body>
</html>